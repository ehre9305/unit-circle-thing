var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t,n,e,o){return t[1]&&o?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](o(n))):e.ctx}function c(t){return null==t?"":t}function a(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function x(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let g,y;function m(){if(void 0===g){g=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){g=!0}}return g}function b(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=$("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const o=m();let s;return o?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=p(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{s=p(e.contentWindow,"resize",n)}),a(t,e),()=>{(o||s&&e.contentWindow)&&s(),u(e)}}function v(t){y=t}const w=[],M=[],_=[],P=[],k=Promise.resolve();let q=!1;function E(t){_.push(t)}function I(t){P.push(t)}const A=new Set;let C=0;function W(){const t=y;do{for(;C<w.length;){const t=w[C];C++,v(t),j(t.$$)}for(v(null),w.length=0,C=0;M.length;)M.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];A.has(n)||(A.add(n),n())}_.length=0}while(w.length);for(;P.length;)P.pop()();q=!1,A.clear(),v(t)}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const F=new Set;let z;function N(t,n){t&&t.i&&(F.delete(t),t.i(n))}function O(t,n,e,o){if(t&&t.o){if(F.has(t))return;F.add(t),z.c.push((()=>{F.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function S(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function T(t){t&&t.c()}function B(t,e,r,i){const{fragment:c,on_mount:a,on_destroy:l,after_update:u}=t.$$;c&&c.m(e,r),i||E((()=>{const e=a.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(E)}function H(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function L(t,n){-1===t.$$.dirty[0]&&(w.push(t),q||(q=!0,k.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function R(n,s,r,i,c,a,l,$=[-1]){const d=y;v(n);const f=n.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:e(),dirty:$,skip_bound:!1,root:s.target||d.$$.root};l&&l(f.root);let p=!1;if(f.ctx=r?r(n,s.props||{},((t,e,...o)=>{const s=o.length?o[0]:e;return f.ctx&&c(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&L(n,t)),e})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!i&&i(f.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();s.intro&&N(n.$$.fragment),B(n,s.target,s.anchor,s.customElement),W()}v(d)}class X{$destroy(){H(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(n){let e,o,s,r,i;return{c(){e=$("button"),o=d(n[1]),x(e,"class",s=c(n[0]?"pressed":"")+" svelte-u746uv")},m(t,s){l(t,e,s),a(e,o),r||(i=p(e,"click",n[2]),r=!0)},p(t,[n]){2&n&&h(o,t[1]),1&n&&s!==(s=c(t[0]?"pressed":"")+" svelte-u746uv")&&x(e,"class",s)},i:t,o:t,d(t){t&&u(e),r=!1,i()}}}function D(t,n,e){let{text:o}=n,{enabled:s=!1}=n;return t.$$set=t=>{"text"in t&&e(1,o=t.text),"enabled"in t&&e(0,s=t.enabled)},[s,o,()=>e(0,s=!s)]}class G extends X{constructor(t){super(),R(this,t,D,Y,r,{text:1,enabled:0})}}function J(t){let n,e,o,s;const r=t[5].default,c=function(t,n,e,o){if(t){const s=i(t,n,e,o);return t[0](s)}}(r,t,t[4],null);return{c(){n=$("div"),c&&c.c(),x(n,"class","centered svelte-1wrby08"),x(n,"style",e=`\n    transform: translate(${t[0].x-t[2]/2}px, ${-t[0].y-t[3]/2}px);\n    left: ${t[1].x}px;\n    top: ${t[1].y}px;\n  `),E((()=>t[6].call(n)))},m(e,r){l(e,n,r),c&&c.m(n,null),o=b(n,t[6].bind(n)),s=!0},p(t,[o]){c&&c.p&&(!s||16&o)&&function(t,n,e,o,s,r){if(s){const c=i(n,e,o,r);t.p(c,s)}}(c,r,t,t[4],s?function(t,n,e,o){if(t[2]&&o){const s=t[2](o(e));if(void 0===n.dirty)return s;if("object"==typeof s){const t=[],e=Math.max(n.dirty.length,s.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|s[o];return t}return n.dirty|s}return n.dirty}(r,t[4],o,null):function(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}(t[4]),null),(!s||15&o&&e!==(e=`\n    transform: translate(${t[0].x-t[2]/2}px, ${-t[0].y-t[3]/2}px);\n    left: ${t[1].x}px;\n    top: ${t[1].y}px;\n  `))&&x(n,"style",e)},i(t){s||(N(c,t),s=!0)},o(t){O(c,t),s=!1},d(t){t&&u(n),c&&c.d(t),o()}}}function K(t,n,e){let o,s,{$$slots:r={},$$scope:i}=n,{pos:c={x:0,y:0}}=n,{startPos:a={x:0,y:0}}=n;return t.$$set=t=>{"pos"in t&&e(0,c=t.pos),"startPos"in t&&e(1,a=t.startPos),"$$scope"in t&&e(4,i=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&console.log({pos:c})},[c,a,o,s,i,r,function(){s=this.clientHeight,o=this.clientWidth,e(3,s),e(2,o)}]}class Q extends X{constructor(t){super(),R(this,t,K,J,r,{pos:0,startPos:1})}}const U=[0,Math.PI/6,Math.PI/4,Math.PI/3],V=new Map;function Z(t){let n,e,o,s,r,i,c,a,d,p,h,g,y,m,b,v,w;return p=new Q({props:{pos:{x:t[2].x/2,y:t[2].y/2},startPos:t[7],$$slots:{default:[tt]},$$scope:{ctx:t}}}),g=new Q({props:{pos:{x:t[2].x,y:t[2].y/2},startPos:t[7],$$slots:{default:[nt]},$$scope:{ctx:t}}}),m=new Q({props:{pos:{x:t[2].x/2,y:0},startPos:t[7],$$slots:{default:[et]},$$scope:{ctx:t}}}),v=new Q({props:{pos:t[2],startPos:t[7],$$slots:{default:[ot]},$$scope:{ctx:t}}}),{c(){n=$("div"),o=f(),s=$("div"),i=f(),c=$("div"),d=f(),T(p.$$.fragment),h=f(),T(g.$$.fragment),y=f(),T(m.$$.fragment),b=f(),T(v.$$.fragment),x(n,"class","line svelte-199qu0e"),x(n,"style",e=`transform: rotate(${-t[1]}rad)`),x(s,"class","triangle-line svelte-199qu0e"),x(s,"style",r=`\n        transform: translate(${t[2].x}px, ${Math.min(0,-t[2].y)}px);\n        height: ${Math.abs(t[2].y)}px;\n        width: 2px;\n      `),x(c,"class","triangle-line svelte-199qu0e"),x(c,"style",a=`\n        transform: translate(${Math.min(t[2].x,0)}px, 0px);\n        height: 2px;\n        width: ${Math.abs(t[2].x)}px;\n      `)},m(t,e){l(t,n,e),l(t,o,e),l(t,s,e),l(t,i,e),l(t,c,e),l(t,d,e),B(p,t,e),l(t,h,e),B(g,t,e),l(t,y,e),B(m,t,e),l(t,b,e),B(v,t,e),w=!0},p(t,o){(!w||2&o&&e!==(e=`transform: rotate(${-t[1]}rad)`))&&x(n,"style",e),(!w||4&o&&r!==(r=`\n        transform: translate(${t[2].x}px, ${Math.min(0,-t[2].y)}px);\n        height: ${Math.abs(t[2].y)}px;\n        width: 2px;\n      `))&&x(s,"style",r),(!w||4&o&&a!==(a=`\n        transform: translate(${Math.min(t[2].x,0)}px, 0px);\n        height: 2px;\n        width: ${Math.abs(t[2].x)}px;\n      `))&&x(c,"style",a);const i={};4&o&&(i.pos={x:t[2].x/2,y:t[2].y/2}),262144&o&&(i.$$scope={dirty:o,ctx:t}),p.$set(i);const l={};4&o&&(l.pos={x:t[2].x,y:t[2].y/2}),262208&o&&(l.$$scope={dirty:o,ctx:t}),g.$set(l);const u={};4&o&&(u.pos={x:t[2].x/2,y:0}),262208&o&&(u.$$scope={dirty:o,ctx:t}),m.$set(u);const $={};4&o&&($.pos=t[2]),262208&o&&($.$$scope={dirty:o,ctx:t}),v.$set($)},i(t){w||(N(p.$$.fragment,t),N(g.$$.fragment,t),N(m.$$.fragment,t),N(v.$$.fragment,t),w=!0)},o(t){O(p.$$.fragment,t),O(g.$$.fragment,t),O(m.$$.fragment,t),O(v.$$.fragment,t),w=!1},d(t){t&&u(n),t&&u(o),t&&u(s),t&&u(i),t&&u(c),t&&u(d),H(p,t),t&&u(h),H(g,t),t&&u(y),H(m,t),t&&u(b),H(v,t)}}}function tt(n){let e;return{c(){e=$("p"),e.textContent="1",x(e,"class","triangle-label svelte-199qu0e")},m(t,n){l(t,e,n)},p:t,d(t){t&&u(e)}}}function nt(t){let n,e,o=t[6].sin.replace("-","")+"";return{c(){n=$("p"),e=d(o),x(n,"class","triangle-label svelte-199qu0e")},m(t,o){l(t,n,o),a(n,e)},p(t,n){64&n&&o!==(o=t[6].sin.replace("-","")+"")&&h(e,o)},d(t){t&&u(n)}}}function et(t){let n,e,o=t[6].cos.replace("-","")+"";return{c(){n=$("p"),e=d(o),x(n,"class","triangle-label svelte-199qu0e")},m(t,o){l(t,n,o),a(n,e)},p(t,n){64&n&&o!==(o=t[6].cos.replace("-","")+"")&&h(e,o)},d(t){t&&u(n)}}}function ot(t){let n,e,o,s,r,i,c=t[6].cos+"",f=t[6].sin+"";return{c(){n=$("p"),e=d("("),o=d(c),s=d(", "),r=d(f),i=d(")"),x(n,"class","angle-label svelte-199qu0e")},m(t,c){l(t,n,c),a(n,e),a(n,o),a(n,s),a(n,r),a(n,i)},p(t,n){64&n&&c!==(c=t[6].cos+"")&&h(o,c),64&n&&f!==(f=t[6].sin+"")&&h(r,f)},d(t){t&&u(n)}}}function st(t){let n,e,s,r,i,c,d,h=t[5]&&Z(t);return{c(){n=$("div"),e=$("span"),r=f(),h&&h.c(),x(e,"class","circle svelte-199qu0e"),E((()=>t[14].call(e))),x(n,"class","container svelte-199qu0e")},m(o,u){l(o,n,u),a(n,e),s=b(e,t[14].bind(e)),a(n,r),h&&h.m(n,null),i=!0,c||(d=[p(e,"mousemove",t[15]),p(e,"mouseleave",t[16]),p(e,"mouseenter",t[17])],c=!0)},p(t,[e]){t[5]?h?(h.p(t,e),32&e&&N(h,1)):(h=Z(t),h.c(),N(h,1),h.m(n,null)):h&&(z={r:0,c:[],p:z},O(h,1,1,(()=>{h=null})),z.r||o(z.c),z=z.p)},i(t){i||(N(h),i=!0)},o(t){O(h),i=!1},d(t){t&&u(n),s(),h&&h.d(),c=!1,o(d)}}}function rt(t,n){return parseFloat(t.toFixed(n))}function it(t,n,e){var o,s;let{rounding:r}=n;let i,c,a,l,u,$,d,f,p=!0,x={x:0,y:0};return t.$$set=t=>{"rounding"in t&&e(8,r=t.rounding)},t.$$.update=()=>{if(1&t.$$.dirty)if(0!==x.x){const t=Math.atan(x.y/x.x);x.x<0?e(11,i=Math.PI+t):e(11,i=t<0?t+2*Math.PI:t)}else e(11,i=(x.y>0?1:3)*(Math.PI/2));2048&t.$$.dirty&&e(12,c=[...V.keys()].reduce(((t,n)=>Math.abs(t-i)<Math.abs(n-i)?t:n))),6400&t.$$.dirty&&e(1,a=r?c:i),2&t.$$.dirty&&console.log(Math.sin(a)),2&t.$$.dirty&&e(13,l={x:rt(Math.cos(a),3),y:rt(Math.sin(a),3)}),8192&t.$$.dirty&&console.log(l),8216&t.$$.dirty&&e(2,u={x:l.x*d/2,y:l.y*$/2}),4&t.$$.dirty&&console.log({realEndPoint:u}),1538&t.$$.dirty&&e(6,f={sin:(null===e(9,o=V.get(a))||void 0===o?void 0:o.sin)||Math.sin(a).toFixed(3),cos:(null===e(10,s=V.get(a))||void 0===s?void 0:s.cos)||Math.cos(a).toFixed(3)})},[x,a,u,$,d,p,f,{x:300,y:300},r,o,s,i,c,l,function(){d=this.clientWidth,$=this.clientHeight,e(4,d),e(3,$)},t=>{const n=t.currentTarget.getBoundingClientRect();e(0,x={x:t.pageX-(n.top+d/2),y:-1*(t.pageY-(n.left+$/2))})},()=>e(5,p=!1),()=>e(5,p=!0)]}V.set(U[0],{sin:"0",cos:"1"}),V.set(U[1],{sin:"1/2",cos:"√3/2"}),V.set(U[2],{sin:"√2/2",cos:"√2/2"}),V.set(U[3],{sin:"√3/2",cos:"1/2"}),new Map(V).forEach((({sin:t,cos:n},e)=>{console.log({sin:t,cos:n,key:e});for(let o=1;o<=3;o++){console.log(o%2==0);const s={sin:o>1?"-":"",cos:o<3?"-":""};V.set(e+o*Math.PI/2,{sin:s.sin+(o%2==0?t:n),cos:s.cos+(o%2==0?n:t)})}})),console.log(V);class ct extends X{constructor(t){super(),R(this,t,it,st,r,{rounding:8})}}function at(t){let n,e,o,s,r,i;function c(n){t[1](n)}let a={};function $(n){t[2](n)}void 0!==t[0]&&(a.rounding=t[0]),n=new ct({props:a}),M.push((()=>S(n,"rounding",c)));let d={text:"rounding"};return void 0!==t[0]&&(d.enabled=t[0]),s=new G({props:d}),M.push((()=>S(s,"enabled",$))),{c(){T(n.$$.fragment),o=f(),T(s.$$.fragment)},m(t,e){B(n,t,e),l(t,o,e),B(s,t,e),i=!0},p(t,[o]){const i={};!e&&1&o&&(e=!0,i.rounding=t[0],I((()=>e=!1))),n.$set(i);const c={};!r&&1&o&&(r=!0,c.enabled=t[0],I((()=>r=!1))),s.$set(c)},i(t){i||(N(n.$$.fragment,t),N(s.$$.fragment,t),i=!0)},o(t){O(n.$$.fragment,t),O(s.$$.fragment,t),i=!1},d(t){H(n,t),t&&u(o),H(s,t)}}}function lt(t,n,e){let o;return[o,function(t){o=t,e(0,o)},function(t){o=t,e(0,o)}]}return new class extends X{constructor(t){super(),R(this,t,lt,at,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
